@model WeatherApp.Models.WeatherViewModel
@{
    ViewData["Title"] = "Kezdőlap";
}

<form method="post">
    <fieldset role="group">
        <input type="text" name="City" value="@Model.City" placeholder="Írd be a város nevét (pl. Budapest)" aria-label="Város" />
        <button type="submit">Lekérdezés</button>
    </fieldset>
</form>

@if (!string.IsNullOrWhiteSpace(Model.Error))
{
    <article style="margin-top:1rem;"><mark>@Model.Error</mark></article>
}
else if (Model.TemperatureC is not null)
{
    <article style="margin-top:1rem; display:flex; align-items:center; gap:.75rem;">
        @if (!string.IsNullOrWhiteSpace(Model.IconFile))
        {
            <img src="~/icons/@Model.IconFile" alt="@Model.ConditionText" width="64" height="64" />
        }
        <div>
            <header><strong>@(Model.ResolvedName ?? Model.City)</strong></header>
            <p style="margin:.25rem 0 0 0; font-size:1.2rem;">
                Aktuális hőmérséklet: <strong>@Model.TemperatureC.Value.ToString("0.#") °C</strong>
                @if (!string.IsNullOrWhiteSpace(Model.ConditionText))
                {
                    <span style="opacity:.75;">— @Model.ConditionText</span>
                }
            </p>
            @if (!string.IsNullOrWhiteSpace(Model.LocalTime))
            {
                <footer style="opacity:.7;">Helyi idő: @Model.LocalTime</footer>
            }
        </div>
    </article>
}
